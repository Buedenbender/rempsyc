---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# rempsyc: Convenience functions for psychology <img src='man/figures/logo.png' align="right" height="139" />

```{r version, echo = FALSE                                  }
version <- as.vector(read.dcf('DESCRIPTION')[, 'Version'])                                  
version <- gsub('-', '.', version)                                  
```

<!-- badges: start -->
[![R-CMD-check](https://github.com/RemPsyc/rempsyc/workflows/R-CMD-check/badge.svg)](https://github.com/RemPsyc/rempsyc/actions)
[![Project Status: Active â€“ The project has reached a stable, usable state and is being actively developed.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active)
[![packageversion](https://img.shields.io/badge/Package%20version-`r version`-orange.svg?style=flat-square)](https://github.com/RemPsyc/rempsyc/commits/main)
[![Last-commit](https://img.shields.io/github/last-commit/rempsyc/rempsyc)](https://github.com/RemPsyc/rempsyc/commits/main)
[![license](https://img.shields.io/badge/license-GPL--3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0.en.html)
![size](https://img.shields.io/github/repo-size/rempsyc/rempsyc)
[![sponsors](https://img.shields.io/github/sponsors/rempsyc)](https://paypal.me/rempsyc)
[![followers](https://img.shields.io/github/followers/rempsyc?style=social)](https://github.com/RemPsyc?tab=followers)
[![forks](https://img.shields.io/github/forks/rempsyc/rempsyc?style=social)](https://github.com/RemPsyc/rempsyc/network/members)
![stars](https://img.shields.io/github/stars/rempsyc/rempsyc?style=social)
<!-- badges: end -->

R package of convenience functions to make your workflow faster and easier. Easily customizable plots (via `ggplot2`), nice APA tables exportable to Word (via `flextable`), easily run statistical tests or check assumptions, and automatize various other tasks. Mostly geared at researchers in the psychological sciences.

## Installation

You can install the development version (the only version currently available) of the `rempsyc` package from GitHub with:

``` r
# If devtools isn't already installed, install it with install.packages("devtools")
devtools::install_github("rempsyc/rempsyc")
```
You can load the package and open the help file, and click "Index" at the bottom. You will see all the available functions listed.

``` r
library(rempsyc)
?rempsyc
```

## Features

All plots can be saved with the `ggsave()` function. They are `ggplot` objects so can be modified as such. The tables can be saved with the `save_as_docx` function, and are `flextable` objects, and can be modified as such.

## `nice_reverse`

Easily recode scores (reverse-score), typically for questionnaire answers.

```{r nice_reverse, warning = FALSE, message = FALSE}
library(rempsyc)

# Reverse score of 5 with a maximum score of 5
nice_reverse(5, 5)

# Reverse scores with maximum = 4 and minimum = 0
nice_reverse(1:4, 4, min = 0)

# Reverse scores with maximum = 3 and minimum = -3
nice_reverse(-3:3, 3, min = -3)
```

## `nice_t_test`

Easily compute t-test analyses, with effect sizes, and format in publication-ready format. Supports multiple dependent variables at once.

```{r nice_t_test, warning = FALSE, message = FALSE}
nice_t_test(data = mtcars,
            response = c("mpg", "disp", "drat", "wt"),
            group = "am") -> t.tests
t.tests
```

Full tutorial: https://remi-theriault.com/blog_t-test

## `nice_mod`

Easily compute moderation analyses, with effect sizes, and format in publication-ready format. Supports multiple dependent variables and covariates at once.

```{r nice_mod, warning = FALSE, message = FALSE}
nice_mod(data = mtcars,
         response = c("mpg", "disp"),
         predictor = "gear",
         moderator = "wt") -> moderations
moderations
```

Full tutorial: https://remi-theriault.com/blog_moderation

## `nice_slopes`

Easily compute simple slopes in moderation analysis, with effect sizes, and format in publication-ready format. Supports multiple dependent variables and covariates at once.

```{r nice_slopes, warning = FALSE, message = FALSE}
nice_slopes(data = mtcars,
            response = c("mpg", "disp"),
            predictor = "gear",
            moderator = "wt") -> simple.slopes
simple.slopes
```

Full tutorial: https://remi-theriault.com/blog_moderation

## `format_value`

Easily format *p* or *r* values. Note: converts to `character` class for use in figures or manuscripts to accommodate e.g., "< .001".

```{r format_value, warning = FALSE, message = FALSE}
format_p(0.0041231)
format_p(t.tests$p)
format_r(moderations$sr2)
```

## `nice_table`

Make nice APA tables easily through a wrapper around the `flextable` package with sensical defaults and automatic formatting features.

```{r nice_table1, warning = FALSE, message = FALSE}
# Format t-test results
t_table <- nice_table(t.tests, width = .75)
t_table
```

```{r nice_table2, echo = FALSE, results='hide'}
flextable::save_as_image(t_table, path = "man/figures/t_table.png")
```

<img src="man/figures/t_table.png" width="90%" />

```{r nice_table3, warning = FALSE, message = FALSE}
# Save to word
save_as_docx(t_table, path = "D:/R treasures/t_tests.docx")
```

```{r nice_table4, warning = FALSE, message = FALSE}
# Format moderation results
mod_table <- nice_table(moderations, highlight = TRUE, width = .75)
mod_table
```

```{r nice_table5, echo = FALSE, results='hide'}
flextable::save_as_image(mod_table, path = "man/figures/mod_table.png")
```

<img src="man/figures/mod_table.png" width="90%" />

```{r nice_table6, warning = FALSE, message = FALSE}
# Format simple slopes results
slopes_table <- nice_table(simple.slopes, width = .75)
slopes_table
```

```{r nice_table7, echo = FALSE, results='hide'}
flextable::save_as_image(slopes_table, path = "man/figures/slopes_table.png")
```

<img src="man/figures/slopes_table.png" width="90%" />

Full tutorial: https://remi-theriault.com/blog_table.html

## `nice_violin`

Make nice violin plots easily with 95% bootstrapped confidence intervals.

```{r nice_violin, warning = FALSE, message = FALSE, fig.width=8, fig.height=7, out.width="60%"}
nice_violin(data = ToothGrowth,
            group = "dose",
            response = "len",
            xlabels = c("Low", "Medium", "High"),
            comp1 = 1,
            comp2 = 3)

# Save plot
ggsave('niceplot.pdf', width = 7, height = 7, unit = 'in', 
       dpi = 300, path = "D:/R treasures/")
```

Full tutorial: https://remi-theriault.com/blog_violin.html

## `nice_scatter`

Make nice scatter plots easily.

```{r nice_scatter, warning = FALSE, message = FALSE, fig.width=8, fig.height=7, out.width="60%"}
nice_scatter(data = mtcars,
             predictor = wt,
             response = mpg,
             has.confband = TRUE,
             has.r = TRUE,
             has.p = TRUE)

nice_scatter(data = mtcars,
             predictor = wt,
             response = mpg,
             group = cyl,
             has.confband = TRUE)
```

Full tutorial: https://remi-theriault.com/blog_scatter.html

## `nice_randomize`

Randomize easily with different designs.

```{r nice_randomize, warning = FALSE, message = FALSE}

# Specify design, number of conditions, number of participants, and names of conditions:
nice_randomize(design = "between", Ncondition = 4, n = 8,
               condition.names = c("BP","CX","PZ","ZL"))

# Within-Group Design
nice_randomize(design = "within", Ncondition = 3, n = 3,
               condition.names = c("SV","AV","ST"))
```

Full tutorial: https://remi-theriault.com/blog_randomize.html

## `overlap_circle `

Interpolating the Inclusion of the Other in the Self Scale (self-other merging) easily.

```{r overlap_circle, warning = FALSE, message = FALSE, fig.width=7, fig.height=7, out.width="60%"}

# Score of 3.5 (25% overlap)
overlap_circle(3.5)

# Score of 6.84 (81.8% overlap)
overlap_circle(6.84)
```

Full tutorial: https://remi-theriault.com/blog_circles.html

## `cormatrix_excel`

Easily output a correlation matrix and export it to Microsoft Excel, with the first row and column frozen, and correlation coefficients colour-coded based on their effect size (0.0-0.3: small (no colour); 0.3-0.6: medium (pink); 0.6-1.0: large (red)).

```{r cormatrix_excel}

cormatrix_excel(mtcars)

```

<img src="man/figures/cormatrix.png" width="100%" />

## Testing assumptions

Full tutorial: https://remi-theriault.com/blog_assumptions

## `nice_assumptions `

Test linear regression assumptions easily with a nice summary table.

```{r nice_assumptions, warning = FALSE, message = FALSE}

# Create regression model
model <- lm(mpg ~ wt * cyl + gear, data = mtcars)
# View results
View(nice_assumptions(model))
```

<img src="man/figures/assumptions_table.png" width="70%" />

## `nice_normality `

Easily make nice density and QQ plots per-group.

```{r nice_normality, warning = FALSE, message = FALSE, fig.width=16, fig.height=7, out.width="100%"}
nice_normality(data = iris,
               variable = "Sepal.Length",
               group = "Species",
               grid = FALSE,
               shapiro = TRUE)
```


## `nice_var `

Obtain variance per group as well as check for the rule of thumb of one group having variance four times bigger than any of the other groups.

```{r nice_var, warning = FALSE, message = FALSE}
nice_var(data = iris,
         variable = "Sepal.Length",
         group = "Species")
```

## `nice_varplot `

Attempt to visualize variance per group.

```{r nice_varplot, warning = FALSE, message = FALSE, fig.width=8, fig.height=7, out.width="70%"}
nice_varplot(data = iris,
             variable = Sepal.Length,
             group = Species)
```

## Support me and this package

Thank you for your support. You can support me and this package here: https://github.com/sponsors/rempsyc
